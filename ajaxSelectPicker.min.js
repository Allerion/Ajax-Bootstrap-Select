/*!
 * ajax-bootstrap-select v1.0.4
 * https://github.com/truckingsim/Ajax-Bootstrap-Select
 *
 * @author Adam Heim originally for CROSCON
 * @copyright 2014 ajax-bootstrap-select
 * @license Licensed under the MIT license
 * @version 1.0.4
 */
!function(e,l){e.ajaxSelectPicker=function(g,m){var n={9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down",229:"unknown"},a=this,k=e(g);e.extend(a,{destroyLi:function(){this.$menu.find("li").remove()}});a.ajaxOptions=e.extend({ajaxResultsPreHook:null,ajaxSearchUrl:null,ajaxOptions:{},placeHolderOption:null,debug:!1},m,{});a.init=function(){if(k.data().hasOwnProperty("selectpicker"))if(null==a.ajaxOptions.ajaxSearchUrl)this.log("ajaxSelectPicker: ajaxSearchUrl must be set!", !0);else{var h=0;e.extend(a,k.data().selectpicker);a.$searchbox.off("input");a.$searchbox.on("keydown",function(g){if(n[g.keyCode])return!0;clearTimeout(h);h=setTimeout(function(){var h=k.html();k.find("options").remove();a.destroyLi();a.$menu.append('<div class="menu-loading">loading...</div>');var f={};f.url=a.ajaxOptions.ajaxSearchUrl;f.success=function(b){"function"===typeof a.ajaxOptions.ajaxResultsPreHook&&(b=a.ajaxOptions.ajaxResultsPreHook(b));if(Array.isArray(b)){var c="",f=b.length;if(b.length){"string"=== typeof a.ajaxOptions.placeHolderOption&&(c+='<option data-hidden="true">'+a.ajaxOptions.placeHolderOption+"</option>");for(var e=0;e<f;e++){var d=b[e],g=d.hasOwnProperty("data");if(!d.hasOwnProperty("value")&&d.hasOwnProperty("data")&&d.data.hasOwnProperty("divider")){this.log("currentData must have a property of value",!0);break}if(g&&d.data.divider){c+=' data-divider="true"></option>';break}c+="<option";d.hasOwnProperty("disable")&&d.disable&&(c+=' disabled="disabled"');d.hasOwnProperty("class")&&(c+=' class="'+d["class"]+'"');g&&(d.data.hasOwnProperty("subtext")&&(c+=' data-subtext="'+d.data.subtext+'"'),d.data.hasOwnProperty("icon")&&(c+=' data-icon="'+d.data.icon+'"'),d.data.hasOwnProperty("content")&&(c+=' data-content="'+d.data.content+'"'));c+=' value="'+d.value+'">';c=d.hasOwnProperty("text")?c+(d.text+"</option>"):c+(d.value+"</option>")}}a.$element.html(c)}else a.$element.html(h)};f.error=function(b){this.log(["ajaxSelectPicker:",b],!0);a.$element.html(h)};f.complete=function(){e(".menu-loading").remove();a.refresh()};var b=e.extend(!0,{},a.ajaxOptions.ajaxOptions);f.dataType=b.hasOwnProperty("dataType")?b.dataType:"json";f.type=b.hasOwnProperty("type")?b.type:"POST";b.hasOwnProperty("data")?(b.processedData=b.data,"function"===typeof b.data&&(b.processedData=b.data()),f.data=b.processedData):b.data={q:a.$searchbox.val()};b=a.$searchbox.val();if(Object.keys(f.data).length)for(var g in f.data)f.data.hasOwnProperty(g)&&"{{{q}}}"===f.data[g]&&(f.data[g]=b);e.ajax(f)},300)})}else this.log("ajaxSelectPicker: Cannot attach ajax without selectpicker being run first!",!0)};a.log=function(a,e){a=a instanceof Array?a:[a];l.console&&this.ajaxOptions.debug&&(e?console.error:console.log).apply(console,a)};setTimeout(function(){a.init()},500)};e.fn.ajaxSelectPicker=function(g){return this.each(function(){void 0==e(this).data("ajaxSelectPicker")&&e(this).data("ajaxSelectPicker",new e.ajaxSelectPicker(this,g))})}}(jQuery,window);